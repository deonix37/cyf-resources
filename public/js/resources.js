document.addEventListener("click",(function(t){const e=t.target.closest("[data-upvote-btn");if(!e)return;const s=e.querySelector("[data-icon]"),o=e.querySelector("[data-counter]"),a=e.closest("[data-resource]");(e.dataset.upvote?axios.delete(`/api/upvotes/${e.dataset.upvote}`):axios.post(`/api/resources/${a.dataset.resource}/upvotes`)).finally((function(){axios.head(`/api/resources/${a.dataset.resource}/upvotes`).then((t=>{const a=t.headers["x-total-count"],c=t.headers["x-user-upvote-id"],l=Boolean(c);e.classList.toggle("bg-white",!l),e.classList.toggle("bg-rose-600",l),e.classList.toggle("border-black",!l),e.classList.toggle("text-white",l),s.classList.toggle("fill-white",l),s.classList.toggle("fill-black",!l),o.textContent=a,e.dataset.upvote=c}))}))}));
